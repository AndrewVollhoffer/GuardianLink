<nav class="navbar sticky-top border bg-gradient" style="background-color: white">
  <div class="container-fluid">
    <div>
      <%= link_to image_tag("glshield.jpg", size: "60", alt: "GL", class: "navbar-brand"), user_signed_in? ? users_path : root_path  %>
      <span class="d-inline-block align-text-top fs-3" style="color: purple">GuardianLink</span>
    </div>

    <% if user_signed_in? %>
      <div class="nav-item dropstart">
        <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <% if current_user.profile_photo.attached? %>
            <%= image_tag(current_user.profile_photo, size: "40", alt: "Profile Picture", class: "rounded-circle") %> </a>
          <% else %>
            <%= image_tag("empty profile picture.jpg", size: "40", alt: "Empty Profile Picture", class: "rounded-circle") %>
          <% end %>
        </a>
        <ul class="dropdown-menu">
          <div>
            <% if current_user.first_name != nil %>
              <% if current_user.ngo? %>
                <li class="text-center"><strong><%= current_user.first_name %></strong>
              <% else %>
                <li class="text-center"><strong><%= "#{current_user.first_name} #{current_user.last_name}" %></strong>
              <% end %>
            <% end %>
            <li class="dropdown-divider"></li>
            <li> <%= link_to 'Profile', user_path(current_user), class: "dropdown-item text-center" %> </li>
            <li><%= button_to 'Log Out', log_out_path(current_user), method: :delete, class: "dropdown-item text-center" %> </li>
          </div>
        </ul>
      <% else %>
        <% if !current_page?(log_in_path) && !user_signed_in? %>
          <div>
            <%= link_to "Log In", log_in_path, class: "btn btn-primary" %>
            <%= link_to "Get Started", new_user_path, class: "btn btn-primary btn-lg" if !current_page?(new_user_path) %>
          </div>
        <% end %>
      </div>
    <% end %>

  </div>
</nav>